#include <stdio.h>
#include <stdlib.h>
#include "gconio.h"
#include <locale.h>
#include <windows.h>
#include <time.h>

 //TELA YOU WIN


        void youwin()
        {

            clrscr();
            textcolor(BLACK);
            gotoxy(16, 7);
            printf(" _ _  ___  _ _   _ _ _  _  _ _ ");
            gotoxy(16, 8);
            printf("| | || . || | | | | | || || \\ |");
            gotoxy(16, 9);
            printf("\\  /|| || ' | | | |   || ||   | ");
            gotoxy(16, 10);
            printf(" |_| `___'`___' |__/_/ |_||_\\_|");

        }

        //TELA GAME OVER

        void youlose()
        {


               clrscr();
               textcolor(WHITE);
               gotoxy(19, 10);
               printf("    ___   ___  __ __  ___   ___  _ _  ___  ___ ");
               gotoxy(20, 11);
               printf("  /  _> | . || \\ \\\ || __> | . || | || __>| . \\ ");
               gotoxy(21, 12);
               printf(" | <_/\\|   ||     || _>  | | || ' || _> |   /");
               gotoxy(22, 13);
               printf("`____/|_|_||_|_|_||___> `___'|__/ |___>|_\\_\\ \n\n\n\n\n\n\n\n\n ");
               gotoxy(23, 14);
        }

        //INCREMENTO E DECREMENTO DE VIDAS

        void tentarPalavra(char palavra[])
        {

            char t[10];
            int tam = strlen(palavra);
            int vidas = 5;

            for(int i = 0; i < tam - 1; i++)
            {
                t[i] = '_';
            }
            t[tam] = '\0';

            while(vidas > 0)
            {
                gotoxy(70, 0);
                printf("Vida: %d", vidas);
                gotoxy(10,13);
                printf("Digite uma letra: ");
                gotoxy(28,13);
                //limpa a letra que estava na tela na ultima vez q digitou
                printf("                ");
                gotoxy(28,13);
                char tentativa = getchar();
                getchar();

                gotoxy (10,14);

                int achou = 0;

                for(int i = 0; i < tam; i++)
                {
                    if(palavra[i] == tentativa)
                    {
                        t[i] = tentativa;
                        achou = 1;
                    }
                }

                // Função strcmp compare duas strings
                if(strcmp(t, palavra) == 0){
                    //quando as 2 strings forem iguais, termina o loop e você ganha.
                    break;
                }

                if(achou == 0)
                {
                    vidas--;
                }

                printf("%s\n", t);
            }

            gotoxy (10,14);
            printf("%s\n", t);

            gotoxy(20, 20);
            system("pause");

            if(vidas > 0)
            {
                clrscr();
                textbackground(LIGHTCYAN);
                youwin();
            }
            else
                //if(vidas == 0)
            {
                clrscr();
                textbackground(BLUE);
                youlose();
            }
        }

int main()
{
    setlocale(LC_ALL,"portuguese");

    int MAX_COLUNAS=90;
    int MAX_LINHAS=25;

    system("MODE con cols=90 lines=25");

    int COR_FUNDO=YELLOW;
    int COR_LETRA=BLACK;

    textbackground(COR_FUNDO);
    textcolor(COR_LETRA);

    for(int linha=0; linha<MAX_LINHAS; linha++)
    {
        for(int coluna=0; coluna<MAX_COLUNAS; coluna++)
            printf(" ");
        printf("\n");
    }
    //Nome do jogo

    clrscr();

    gotoxy(7, 8);
       printf("          ___          _______   ______   .______     ______     ___  ");
       gotoxy(7, 9);
       printf("         /   \\        |   ____| /  __  \\  |   _  \\   /      |   /   \\  ");
       gotoxy(7, 10);
       printf("        /  ^  \\       |  |__   |  |  |  | |  |_)  | |  ,----'  /  ^  \\   ");
       gotoxy(7, 11);
       printf("       /  /_\\  \\      |   __|  |  |  |  | |      /  |  |      /  /_\\  \\  ");
       gotoxy(7, 12);
       printf("      /  _____  \\     |  |     |  `--'  | |  |\\  \\  |  `----./  _____  \\ ");
       gotoxy(7, 13);
       printf("     /__/     \\__\\    |__|      \\______/  | _| \\__\\ \\______/__/      \\__\\");


    sleep(1);
    clrscr();


    //BONECO ANDANDO

    for(int coluna=50 ; coluna >= 12 ; coluna--){
        gotoxy(12,13);
        gotoxy(coluna + 1, 13);
        printf("  ");
        gotoxy(coluna + 1, 14);
        printf("     ");
        gotoxy(coluna + 1, 15);
        printf("  ");
        if(coluna%2==0)
        {
            printf("                                                             ");
            gotoxy(coluna,13);
            textbackground(YELLOW);
            textcolor(BLACK);
            printf("  O ");
            gotoxy(coluna,14);
            textbackground(YELLOW);
            textcolor(BLACK);
            printf(" /|\\ ");
            gotoxy(coluna,15);
            textbackground(YELLOW);
            textcolor(BLACK);
            printf("  |");
            Sleep(50);
            textbackground(YELLOW);
            textcolor(BLACK);

        }
        else
        {
            printf("                                                             ");
            gotoxy(coluna,13);
            textbackground(YELLOW);
            textcolor(BLACK);
            printf("  O ");
            gotoxy(coluna,14);
            textbackground(YELLOW);
            textcolor(BLACK);
            printf("  | ");
            gotoxy(coluna,15);
            textbackground(YELLOW);
            textcolor(BLACK);
            printf(" / \\ ");
            Sleep(2);
            textbackground(YELLOW);
            textcolor(BLACK);
        }

        clrscr();

    }



//    // forca do boneco
//    gotoxy(10,8);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("__");
//    gotoxy(13,9);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("|");
//    gotoxy(10,9);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("|");
//    gotoxy(10,10);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("|");
//    gotoxy(10,11);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("|");
//    gotoxy(10,12);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("|");


    // boneco subiu

//    gotoxy(11,10);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf("  O ");
//    gotoxy(11,11);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf(" /|\\ ");
//    gotoxy(11,12);
//    textbackground(YELLOW);
//    textcolor(BLACK);
//    printf(" / \\ ");
//    Sleep(2);

    //clrscr();

    textbackground(YELLOW);
    textcolor(RED);
    gotoxy(0,0);
    for(int linha=0; linha<MAX_LINHAS; linha++)
    {
        for(int coluna=0; coluna<MAX_COLUNAS; coluna++)
        {
            printf(" ");
        }
        printf("\n");
    }

    //FORCA

    gotoxy(10,8);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("____");
    gotoxy(13,9);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("|");
    gotoxy(10,9);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("|");
    gotoxy(10,10);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("|");
    gotoxy(10,11);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("|");
    gotoxy(10,12);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("|");


    // BONECO SUBIU PARA A FORCA

    gotoxy(11,10);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf("  O ");
    gotoxy(11,11);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf(" /|\\ ");
    gotoxy(11,12);
    textbackground(YELLOW);
    textcolor(BLACK);
    printf(" / \\ ");

    //PERGUNTA

    gotoxy(25, 6);
    printf("O que é o que é, é surdo e mudo, mas conta tudo?");


    //PALAVRA PARA ACERTAR 1

    gotoxy(10,13);

    tentarPalavra("livro");




    getch();
    return 0;

}
